---
import ExperienceCard from "../../components/ExperienceCard.astro";

const calculateDate = (date: string) => {
    let today = new Date();
    let startDate = new Date(date);
    let years = today.getFullYear() - startDate.getFullYear();
    let months = today.getMonth() - startDate.getMonth();
    if (months < 0 || (months === 0 && today.getDate() < startDate.getDate())) {
        years--;
        if (months !== 0) {
            months = 11 - startDate.getMonth() + today.getMonth();
        }
    }

    let output = '';
    let month_output = months === 1 ? 'mes' : 'meses';

    if (years > 0 && months > 0) {
        output += `${years} años y ${months} ${month_output}`;
    } else if(years > 0) {
        output += `${years} años`;
    } else {
        output += `${months} ${month_output}`;
    }

    return output;
};
---

<section class="flex flex-col my-10 gap-5">
    <h1 class="text-white text-4xl text-center md:text-left">Experiencia</h1>
    <hr class="border-color-third-2 opacity-25 text-center" />
    <div>
        <ExperienceCard
            title="Desarrollador Web | Healthy Fun Tech SL"
            bussisnessLink="https://healthyfun.app/"
            duration={calculateDate("2024/05/02")}
        >
            <p class="text-white opacity-90 text-left">
                Actualmente me encuentro trabajando junto al proyecto de Healthy Fun.
            </p>
            <p class="text-white opacity-90 text-left">
                Estamos desarrollando un producto con objetivo de fomentar la reducción de obesidad, mejora de hábitos saludables, reciclaje y muchas cosas más con nuestros juegos interactivos y educativos.
                Las tecnologías utilizadas en este trabajo son: Wordpress, PHP, Bootstrap 5, Webpack, JavaScript y diversas librerías.
            </p>
        </ExperienceCard>
        <hr class="border-color-third-1 opacity-10 mt-4 text-center" />
    </div>
    <div>
        <ExperienceCard
            title="FullStack | eAgora - Algoritmo del Cambio"
            bussisnessLink="https://www.eagora.app/"
            duration="3 meses"
        >
            <p class="text-white opacity-90 text-left">
                Mi experiencia en eAgora es la culminación de mis primeros años
                de formación profesional.
            </p>
            <p class="text-white opacity-90 text-left">
                He desarrollado tareas como desarrollador FullStack, formando
                parte de un equipo diverso y dinámico, que trabaja para el
                desarrollo de herramientas innovadoras puestas al servicio de la
                sociedad.
            </p>
        </ExperienceCard>
        <hr class="border-color-third-1 opacity-10 mt-4 text-center" />
    </div>
    <div>
        <ExperienceCard
            title="Coordinador de Equipos y Monitor | Cerebritos"
            duration={`${calculateDate("2017/10/21")}`}
        >
            <p class="text-left text-white opacity-90">
                Colaborando con la asociación de inteligencias múltiples
                Cerebritos desde los 14 años. He hecho de monitor en múltiples
                actividades con niños y jóvenes relacionados con las
                inteligencias y tecnologías cómo la robótica.
            </p>
            <ul>
                <li class="text-white text-left opacity-90">
                    - Co-diseño, organización y ejecución de talleres vinculados
                    a las inteligencias múltiples y a las nuevas tecnologías.
                </li>
                <li class="text-white text-left opacity-90">
                    - Coordinador de equipos.
                </li>
                <li class="text-white text-left opacity-90">
                    - Desarrollador de la aplicación web para logros y
                    productos.
                </li>
                <li class="text-white text-left opacity-90">
                    - Monitor en la Tenerife GG.
                </li>
                <li class="text-white text-left opacity-90">
                    - Monitor en el Foro Gamer de los Realejos.
                </li>
            </ul>
        </ExperienceCard>
    </div>
</section>
